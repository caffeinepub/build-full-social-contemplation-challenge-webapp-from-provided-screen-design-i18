{
  "schemaVersion": "1.0.0",
  "projectStateVersion": 3,
  "summary": "New project",
  "architectural_notes": [],
  "known_issues": [
    "Live app (production) throws \"Invalid assignment: daily-check-in\" while draft mode works; likely mismatch between assignment internal names in live canister and app code/labels after renames (cache clear doesn't help)."
  ],
  "isFixRequest": true,
  "existing_features": [
    {
      "id": "feature-add-a-frontend-compatibility-layer-that-transparently-maps-assignment-ids-between-hyphenated-and-underscore-variants-when-calling-backend-recording-apis-so-production-canisters-that-still-validate-legacy-ids-do-not-reject-requests",
      "title": "Add a frontend compatibility layer that transparently maps assignment IDs between hyphenated and underscore variants when calling backend recording APIs, so production canisters that still validate legacy IDs do not reject requests.",
      "reqIds": [
        "REQ-1"
      ],
      "version": 1
    },
    {
      "id": "feature-ensure-the-frontend-always-uses-a-single-internal-canonical-assignment-id-set-for-rendering-and-state-keep-current-ids-used-in-frontend-while-persisting-reading-recordings-in-react-query-using-a-key-strategy-that-prevents-duplicate-cache-entries-across-the-two-backend-id-variants",
      "title": "Ensure the frontend always uses a single internal canonical assignment ID set for rendering and state (keep current IDs used in frontend), while persisting/reading recordings in React Query using a key strategy that prevents duplicate cache entries across the two backend ID variants.",
      "reqIds": [
        "REQ-2"
      ],
      "version": 1
    },
    {
      "id": "feature-add-lightweight-diagnostic-logging-frontend-only-that-captures-the-assignment-id-used-the-fallback-attempt-and-the-sanitized-backend-error-message-whenever-an-invalid-assignment-retry-path-is-triggered-to-make-future-production-debugging-easier",
      "title": "Add lightweight diagnostic logging (frontend-only) that captures the assignment ID used, the fallback attempt, and the sanitized backend error message whenever an invalid-assignment retry path is triggered, to make future production debugging easier.",
      "reqIds": [
        "REQ-3"
      ],
      "version": 1
    }
  ],
  "new_feature_requests": [],
  "projectName": "Fix production 'Invalid assignment' by adding legacy assignment ID fallback and robust client-side mapping",
  "clarification_mode": "instant",
  "clarification_rounds": 0
}